webpackJsonp([14],{B4ks:function(t,e){},Hkuu:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("bQ0r"),n=a.n(i),s=a("wzVF"),r=a("a9+M"),o=a("gYQU"),c=a("yC1S"),g={name:"archives",components:{articleCard2:o.a,noData:c.a},mixins:[r.a],data:function(){return{page:0,pageSize:15,currentPage:0,total:0,type:"category",id:"",articleList:[],loading:!1}},created:function(){this.initData()},watch:{$route:function(t){this.initData()}},methods:n()({},Object(s.b)(["getBlogArticleList"]),{initData:function(){this.type=this.$route.query.type,"category"!==this.type&&"tag"!==this.type&&(this.type="category"),this.id=this.$route.query.id,this.total=0,this.articleList=[],this.page=0,this.getList()},pageChange:function(t){this.scrollToTarget(0,!1),this.page=t-1,this.currentPage=t,this.getList()},getList:function(){var t=this;this.loading=!0,this.getBlogArticleList({by:this.type,categoryId:this.id,tagId:this.id,page:this.page,pageSize:this.pageSize}).then(function(e){t.total=e.count,t.articleList=e.list,t.loading=!1}).catch(function(){t.articleList=[],t.loading=!1})}})},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{id:"archives"}},[a("div",{staticClass:"archives-wrap"},t._l(t.articleList,function(t,e){return a("article-card2",{key:e,attrs:{article:t}})}),1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":t.pageSize,"current-page":t.currentPage,total:t.total},on:{"current-change":t.pageChange}})],1),t._v(" "),0===t.total?a("no-data",{attrs:{text:"没有找到文章~"}}):t._e()],1)},staticRenderFns:[]};var h=a("2Rgo")(g,l,!1,function(t){a("B4ks")},"data-v-3f0e58d6",null);e.default=h.exports}});