webpackJsonp([10],{EFUJ:function(t,e){},wol7:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("bQ0r"),r=a.n(i),n=a("wzVF"),s=a("a9+M"),c=a("gYQU"),o=a("yC1S"),l={name:"search",components:{articleCard2:c.a,noData:o.a},mixins:[s.a],data:function(){return{page:0,pageSize:15,currentPage:0,total:0,type:"category",id:"",articleList:[],loading:!1,searchValue:""}},created:function(){},mounted:function(){this.initData()},watch:{$route:function(t){this.initData()}},methods:r()({},Object(n.b)(["searchArticle"]),{initData:function(){this.searchValue=this.$route.query.value,this.total=0,this.articleList=[],this.page=0,this.searchValue||"0"==this.searchValue?this.getList():document.getElementById("search-input").focus()},pageChange:function(t){this.scrollToTarget(0,!1),this.page=t-1,this.currentPage=t,this.getList()},getList:function(){var t=this;this.loading=!0,this.searchArticle({searchValue:this.searchValue,page:this.page,pageSize:this.pageSize}).then(function(e){t.total=e.count,t.articleList=e.list,t.loading=!1}).catch(function(){t.articleList=[],t.loading=!1})},toSearch:function(){""!==this.searchValue?this.$router.push({name:"search",query:{value:this.searchValue}}):this.$toast("搜索内容不能为空","error")}})},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{id:"search"}},[a("div",{staticClass:"search-input-wrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchValue,expression:"searchValue"}],staticClass:"search-real-input",attrs:{type:"search",placeholder:"输入关键字搜索...",id:"search-input"},domProps:{value:t.searchValue},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.toSearch()},input:function(e){e.target.composing||(t.searchValue=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"search-article-wrap"},t._l(t.articleList,function(t,e){return a("article-card2",{key:e,attrs:{article:t}})}),1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":t.pageSize,"current-page":t.currentPage,total:t.total},on:{"current-change":t.pageChange}})],1),t._v(" "),0===t.total?a("no-data",{attrs:{text:"没有找到文章~"}}):t._e()],1)},staticRenderFns:[]};var h=a("2Rgo")(l,u,!1,function(t){a("EFUJ")},"data-v-39bf1b00",null);e.default=h.exports}});